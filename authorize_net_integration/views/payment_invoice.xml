<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <template id="InvoicePaymentView">
            <t t-call-assets="web.assets_common"/>
            <t t-call-assets="web.assets_backend"/>
            <t id="custom_title" name="change title" inherit_id="web.layout">
                <xpath expr="//title" position="replace">
                    <title>Confianz</title>
                </xpath>
            </t>

            <t t-call="web.layout">
                <t t-set="head">
                    <title>Confianz</title>
                    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
                    <link rel="stylesheet" href="/authorize_net_integration/static/src/css/payment.css"/>
                    <link rel="stylesheet" href="/authorize_net_integration/static/src/css/search.css"/>
                    <link rel="shortcut icon" href="/authorize_net_integration/static/src/img/favicon.ico"
                          type="image/x-icon"/>
                    <meta name="viewport" content="width=device-width, initial-scale=1"/>
                </t>
                <div class='page'>
                    <div  class="ed_report_logo">
<!--                        <img src="/authorize_net_integration/static/src/img/ed_logo.png"/>-->
                    </div>
                    <div>
                        <p class="oe_form_paragraph"></p>
                        <div class="edi_container online_payment">
                            <form action="/verification/invoice" method="post" id="online_payment">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                                <div class="oe_edi_paperbox">
                                    <h1 style="color:#BA8144;" class="oe_edi_doc_title">Confianz Payments</h1>
                                    <div class="approve_details">
                                        <div class="row">
                                            <!--<div class="col-xs-12 col-md-4">-->
                                            <!--<h3>-->
                                            <!--<t t-esc="invoice_id.partner_id.name"/>-->
                                            <!--</h3>-->
                                            <!--</div>-->


                                            <div id="credit_card_page" class="col-xs-12 col-md-4">

                                                <div class="panel-heading" style="color:#BA8144;">
                                                    <h3 class="panel-title text-center">
                                                        <t t-esc="invoice_id.partner_id.name"/>
                                                    </h3>
                                                </div>

                                                <div class="panel-heading">
                                                    <h3 class="panel-title text-center">
                                                        Payment Details
                                                    </h3>
                                                </div>
                                                <div class="panel-heading" style="background-color:#c7c7c7;">
                                                    <div class="row">
                                                        <input type="checkbox" name="selected_p_method"
                                                               checked="checked" t-att-value="card"
                                                               style="display:none;" id="selected_p_method"/>
                                                        <div class="col-xs-6 col-md-6 pull-left">
                                                            <label for="card" class="payment_card_select">
                                                                Card Payment
                                                            </label>
                                                        </div>
                                                        <div class="col-xs-6 col-md-6 pull-left">
                                                            <label for="check" class="payment_check_select">
                                                                eCheck
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <!--<select style="text-align-last:center;" id="payment_type"-->
                                                    <!--required="required" name="payment_type"-->
                                                    <!--class="panel-title text-center">-->
                                                    <!--<option value="default_payment">Payment Method</option>-->
                                                    <!--<option value="card_payment">Card Payment</option>-->
                                                    <!--<option value="cheque_payment">eCheque</option>-->
                                                    <!--</select>-->
                                                </div>

                                                <div class="panel panel-default">
                                                    <div class="panel-body">
                                                        <div class="form-group card_payment_body">
                                                            <label for="cardNumber">
                                                                CARD NUMBER
                                                            </label>
                                                            <input type="text" style="width:100%;" class="form-control"
                                                                   maxlength="16" name="card" id="cardNumber"
                                                                   placeholder="Valid Card Number"
                                                                   required="required"/>
                                                        </div>
                                                        <div class="container_edr card_payment_body"
                                                             style="margin-top:2px;margin-bottom:7px;"
                                                             id="credit_cards">
                                                            <img class="my_class_blur"
                                                                 src="/authorize_net_integration/static/src/img/visa.png"
                                                                 id="visa"></img>
                                                            <img src="/authorize_net_integration/static/src/img/mastercard.png"
                                                                 id="mastercard"></img>
                                                            <img src="/authorize_net_integration/static/src/img/amex.png"
                                                                 id="amex"></img>
                                                            <img src="/authorize_net_integration/static/src/img/discover.png"
                                                                 style="height:22px;" id="discover"></img>
                                                        </div>
                                                        <div class="row card_payment_body">
                                                            <div class="col-xs-4 col-md-4 pull-right">
                                                                <div class="form-group">
                                                                    <label for="cvCode">
                                                                        CVV
                                                                    </label>
                                                                    <input type="password" class="form-control"
                                                                           name="cvv" id="cvCode" placeholder="CVV"
                                                                           required="required" maxlength="4"
                                                                           autocomplete="nope"/>
                                                                </div>
                                                            </div>
                                                            <div class="col-xs-4 col-md-4 pull-right">
                                                                <div class="form-group">
                                                                    <label for="month">
                                                                        Exp Month
                                                                    </label>
                                                                    <div class="form-control">
                                                                        <select style="height:.89cm;"
                                                                                required="required" name="month"
                                                                                id="expiry_month"
                                                                                class="selectpicker">
                                                                            <option value="">Select</option>
                                                                            <option value="01">January</option>
                                                                            <option value="02">February</option>
                                                                            <option value="03">March</option>
                                                                            <option value="04">April</option>
                                                                            <option value="05">May</option>
                                                                            <option value="06">June</option>
                                                                            <option value="07">July</option>
                                                                            <option value="08">August</option>
                                                                            <option value="09">September</option>
                                                                            <option value="10">October</option>
                                                                            <option value="11">November</option>
                                                                            <option value="12">December</option>
                                                                        </select>
                                                                    </div>


                                                                </div>
                                                            </div>
                                                            <div class="col-xs-4 col-md-4 pull-right">
                                                                <div class="form-group">
                                                                    <label for="year">
                                                                        Exp Year
                                                                    </label>
                                                                    <div class="form-control">
                                                                        <select class="selectpicker"
                                                                                style="height:.89cm;" name="year">
                                                                            <t t-foreach="range(datetime.datetime.now().year,(datetime.datetime.now().year)+11)"
                                                                               t-as="num">
                                                                                <option t-att-value="num">
                                                                                    <t t-esc="num"/>
                                                                                </option>
                                                                            </t>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="panel-body cheque_payment_body">
                                                            <div class="form-group">
                                                                <label for="chequeName">
                                                                    Name
                                                                </label>
                                                                <input type="text" style="width:100%;"
                                                                       class="form-control" maxlength="16"
                                                                       name="account_name"
                                                                       id="account_name"
                                                                       placeholder="Valid Name"
                                                                />
                                                            </div>

                                                            <div class="form-group">
                                                                <label for="accountNumber">
                                                                    Account NUMBER
                                                                </label>
                                                                <input type="text" style="width:100%;"
                                                                       class="form-control" maxlength="16"
                                                                       name="account_number"
                                                                       id="account_number"
                                                                       placeholder="Valid Account Number"
                                                                />
                                                            </div>


                                                            <div class="form-group">


                                                                <div class="form-group">
                                                                    <label for="routingNumber">
                                                                        Routing NUMBER
                                                                    </label>
                                                                    <input type="text" style="width:100%;"
                                                                           class="form-control" maxlength="16"
                                                                           name="routing_number"
                                                                           id="routing_number"
                                                                           placeholder="Valid Routing Number"
                                                                    />

                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="bank_name">
                                                                    Bank Name
                                                                </label>
                                                                <input type="text" name="bank_name"
                                                                       class="form-control" id="bank_name"
                                                                       placeholder="Valid Bank Name"
                                                                />
                                                            </div>


                                                        </div>


                                                        <div class="row">

                                                            <div class="form-group col-xs-12 col-md-12">
                                                                <t t-set="invoice_initial_amount"
                                                                   t-value="'%.2f'%(invoice_id.amount_total)"/>
                                                                <label for="invoice_amount">Invoice Amount ($)</label>
                                                                <input type="text" name="invoice_amount"
                                                                       class="form-control" step="0.01"
                                                                       id="invoice_amount"
                                                                       t-att-value="invoice_initial_amount"
                                                                       readonly="True"/>
                                                            </div>
                                                            <!--<t t-if="cm">-->
                                                            <div id="credit_amount">
                                                            </div>
                                                            <!--</t>-->
                                                            <div id="payments_extra">

                                                                <div class="col-xs-12 col-md-6">
                                                                    <div class="form-control extra_payments">
                                                                        <input type='number' name="extra_amount"
                                                                               step='0.01'
                                                                               class='extra_payments'
                                                                               placeholder='Extra Amount'
                                                                               id='extra_payments'/>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xs-12 col-md-12">
                                                                    <div class="form-group">
                                                                        <textarea class="form-control" name="message"
                                                                                  id="extra_content_reason"
                                                                                  style="display:none; min-height: 65px;"
                                                                                  placeholder="Let us know your comments about this extra payment"
                                                                                  rows="4" cols="5"></textarea>
                                                                    </div>

                                                                </div>
                                                                <!--<t t-if="cm">
                                                                    <div class="col-xs-12 col-md-6" id="cm">
                                                                        <a href='#' id='$id' class='awesome'>Credit
                                                                            Memo Available
                                                                        </a>

                                                                    </div>
                                                                </t>-->

                                                            </div>
                                                        </div>

                                                        <hr></hr>

                                                        <!--<div class="surcharge_box">
                                                            <div class="col-xs-12 col-md-6 total">
                                                                <br></br>
                                                                <h8>
                                                                    <span class="hide_processing">Credit Card</span>
                                                                    Processing Fee ($)
                                                                </h8>
                                                            </div>
                                                            <div class="col-xs-12 col-md-6">
                                                                <div class="form-group">
                                                                    <t t-set="handling_fee"
                                                                       t-value="'%.2f'%(handling_fee)"/>
                                                                    <input type="text" name="handling_fee"
                                                                           class="form-control" id="handling_fee"
                                                                           t-att-value="handling_fee"
                                                                           readonly="True"/>
                                                                    <input type="hidden" name="surcharge_percentage"
                                                                           class="form-control"
                                                                           id="surcharge_percentage"
                                                                           t-att-value="'%.2f'%(surcharge_percentage)"
                                                                           readonly="True"/>
                                                                </div>
                                                            </div>
                                                        </div>-->
                                                        <div class="total">
                                                            <br></br>
                                                            <label for="total">Total Amount ($)</label>
                                                        </div>
                                                        <div class="total">
                                                            <div class="form-group">

                                                                <input type="hidden" class="form-control"
                                                                       t-att-value="invoice_id.id"
                                                                       name="invoice_number" id="inv"
                                                                       readonly="True"/>
                                                                <!--<t t-set="invoice_total_amount"
                                                                   t-value="'%.2f'%(invoice_id.residual+float(handling_fee))"/>-->
                                                                    <t t-set="invoice_total_amount"
                                                                   t-value="'%.2f'%(invoice_id.residual)"/>
                                                                <input type="text" name="amount" pattern="^[+-]?(\d*\.)?\d+$"
                                                                       class="form-control" id="final_amount"
                                                                       t-att-value="invoice_total_amount"
                                                                       required="True"/>
                                                            </div>
                                                        </div>
                                                        <hr></hr>
                                                        <input type="submit" name="Payment" value="Payment"
                                                               class="btn btn-success btn-lg btn-block payment_submit"
                                                               style="background-color:#ba8144; color:#fff; "></input>
                                                    </div>
                                                    <div style="text-align:center;;">
                                                        <t t-if="warning">
                                                            <input type="checkbox" id="error_m" style="display:none;"
                                                                   name="error_message" checked="checked"/>
                                                            <div class="tooltip">
                                                                <h3 style="color:red;">Transaction Failure.
                                                                    <span style="color:blue;">Click for more..</span>
                                                                </h3>
                                                                <span class="tooltiptext">
                                                                    <P style="color:blue;">
                                                                        <span t-esc="warning"></span>
                                                                    </P>
                                                                    <!--<P>****Make sure your card's expiry date is greater-->
                                                                    <!--than the current date.-->
                                                                    <!--</P>-->
                                                                    <!--<p>***Make sure your card's service provider's terms-->
                                                                    <!--and conditions match the total payment amount.-->
                                                                    <!--</p>-->
                                                                    <!--<p>***Contact Element Designs for more about the-->
                                                                    <!--transaction.-->
                                                                    <!--</p>-->
                                                                </span>
                                                            </div>
                                                        </t>
                                                    </div>
                                                    <div id="popup_box" class="modal" tabindex="-1" role="dialog"
                                                         aria-hidden="true">
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header"
                                                                     style="background-color:#ba8144;">
                                                                    <!--<button type="button" class="close"-->
                                                                    <!--data-dismiss="modal" aria-hidden="true">Ã—-->
                                                                    <!--</button>-->
                                                                    <h2 class="modal-title text-center">
                                                                        <strong>Transaction Failure</strong>
                                                                    </h2>
                                                                </div>
                                                                <div class="modal-body"
                                                                     style="background-color:#c7c7c7;">
                                                                    <p>
                                                                        <strong>
                                                                            <span t-esc="warning"></span>
                                                                        </strong>
                                                                    </p>
                                                                    <p>
                                                                        <strong>Please try again or contact Confianz.
                                                                        </strong>
                                                                    </p>
                                                                    <p>
                                                                        <strong>P) 877-332-3396 F) 704.332.3267</strong>
                                                                    </p>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <a style="background-color:#c7c7c7;" href="#"
                                                                       data-dismiss="modal" aria-hidden="true"
                                                                       id="popupBoxClose">
                                                                        <h3>
                                                                            <strong>OK</strong>
                                                                        </h3>
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="container"> <!-- Main Page -->

                                                    </div>
                                                </div>
                                                <br/>

                                            </div>
                                            <div id="ed-dialog" title="Alert message" style="display: none">
                                                <div class="ed-ui-dialog-content ed-ui-widget-content">
                                                    <p>
                                                        <span class="ui-icon ui-icon-alert"
                                                              style="float: left; margin: 0 7px 20px 0"></span>
                                                        <label id="lblMessage">
                                                        </label>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-md-8"
                                                 style="    height: 631px;    background: #f0f0f0;    padding: 15px 20px;">

                                                <div id="check_box" class="invoice_open">


                                                    <div class="invoice_list">



                                                        <div class="invoice-table-wrapper">
                                                            <table class="table table-condensed table-invoice"
                                                                   id="myTable">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Invoice</th>
                                                                        <th>Reference</th>
                                                                        <th>Invoice Date</th>
                                                                        <th>Due Date</th>
                                                                        <th>Due Amount ($)</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <t t-foreach="invoice_id" t-as="num">
                                                                        <tr>
                                                                            <td>
                                                                                <t t-if="num==invoice_id">
                                                                                    <input type="checkbox"
                                                                                           class="default_invoice"
                                                                                           disabled="disabled"
                                                                                           checked="checked"
                                                                                           t-att-value="num.id"></input>
                                                                                    <t t-esc="num.number"/>
                                                                                    <br></br>
                                                                                    <input t-att-name="'invoice_box_'+str(num_index)"
                                                                                           type="hidden"
                                                                                           t-att-value="num.id"/>

                                                                                </t>
                                                                                <t t-if="num!=invoice_id">
                                                                                    <input type="checkbox"
                                                                                           t-att-id="'invoices_open_boxs_'+str(num_index)"
                                                                                           class="invoices_open_boxs"
                                                                                           t-att-name="'invoice_box_'+str(num_index)"
                                                                                           t-att-data-attribute_value_ids="num.residual"
                                                                                           t-att-value="num.id"></input>
                                                                                    <t t-esc="num.number"/>
                                                                                    <br></br>
                                                                                </t>
                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="invoice_id.name"></t>

                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="num.date_invoice"></t>

                                                                            </td>
                                                                            <td>
                                                                                <t t-esc="num.date_due"></t>

                                                                            </td>
                                                                            <td>

                                                                                <t t-esc="'%.2f'%(num.residual)"></t>
                                                                            </td>
                                                                        </tr>
                                                                    </t>
                                                                    <input type="hidden" name="inv_count"
                                                                           t-att-value="len(invoice_ids)"/>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
<!--                                                    <div class="credit_list" style="display:none;">-->
<!--                                                        <p class="info">The Following are your Credit memos.You can-->
<!--                                                            adjust your payments with this CM.Select the Credit Memo for-->
<!--                                                            adjusting payments.-->

<!--                                                        </p>-->

<!--                                                    </div>-->


                                                </div>


                                                <div class="clearfix"></div>
                                            </div>


                                        </div>

                                    </div>
                                </div>
                            </form>

                        </div>
                    </div>


                    <div class="oe_footer" id="oe_footer">
                        <p class="oe_footer_powered address">PO Box 7747 Charlotte, NC 28241
                            <span>P) 877-332-3396</span>
                            <span>F) 704.332.3267</span>
                        </p>
                        <p class="oe_footer_powered">
                            <a class="ed_site_link" href="http://www.confianzit.com">www.confianzit.com</a>
                            <span>info@confianzit.com</span>
                        </p>
                    </div>

                </div>
            </t>
        </template>
    </data>
</odoo>
